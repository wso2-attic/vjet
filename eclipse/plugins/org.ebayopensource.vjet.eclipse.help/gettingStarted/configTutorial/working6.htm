<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <meta name="copyright" content="Copyright (c) This page is made available under license. For full details see the LEGAL in the documentation book that contains this page." >
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta http-equiv="Content-Style-Type" content="text/css">
    <link rel="stylesheet" href="../../book.css" charset="ISO-8859-1" type="text/css">
    <script language="JavaScript" src="PLUGINS_ROOT/org.eclipse.help/livehelp.js"> </script>
    <title>Project using a source framework with restricted access</title>
  </head>
  
  <body>
    <h1>Poject using a source framework with restricted access</h1>
    <h3>Layout on file system</h3>
    <ul>
	  <li>The VJET source files for a product requires a source framework.</li>
	  <li>&quot;Project&quot; and &quot;Framework&quot; are in separate directories which have their own source and output folders.
	  <p><img src="../images/cTutorial/working60.gif"  alt="Layout on file system"></p></li>
	</ul>
	
    <h3>Steps for defining corresponding projects</h3>
	<ol>
	  <li>
    	<p>Click 
    	<a class="command-link" href='javascript:executeCommand("org.eclipse.ui.perspectives.showPerspective(org.eclipse.ui.perspectives.showPerspective.perspectiveId=org.eclipse.dltk.javascript.ui.JavascriptPerspective)")'>
    	<img src="PLUGINS_ROOT/org.eclipse.help/command_link.png" alt="Open VJET perspective">
    	<b>Window &gt; Open Perspective &gt; Other... &gt; VJET</b></a> to change to the VJET perspective.
    	</p>
      </li>
      
	  <li>
		<p>
		Click
		<a class="command-link" href='javascript:executeCommand("org.eclipse.ui.newWizard(newWizardId=org.ebayopensource.vjet.ui.VJETProjectWizard)")'>
		<img src="PLUGINS_ROOT/org.eclipse.help/command_link.png" alt="Open new VJET project wizard">
		<b>File &gt; New &gt; Other... &gt; VJET Project</b></a> to open the <b>New VJET Project</b> wizard.
		</p>
	  </li>
	  
      <li>
    	<p>Type &quot;ProjectFramework&quot; in the <strong>Project name</strong> field.</p>
      </li>
      
      <li>
    	<p>In <strong>Contents</strong> group, change selection to <strong>Create project from existing source</strong>.</p>
    	<p>Click <strong>Browse...</strong> and choose the <i><code>C:\ProjectFramework</code></i> directory.</p>
		<p><img src="../images/cTutorial/working61.gif"  alt="New VJET Project wizard"></p>
    	<p>Click <strong>Next</strong>.</p>
	  </li>
	  
	  <li>
		<p>On the next page, verify that directory <i><code>SourceFile</code></i> has been automatically added as source folder.</p>
		<p>Expand it to preview your project source folder contents:</p>
		<p><img src="../images/cTutorial/working62.gif"  alt="VJET Project Source setup"></p>
	  </li>
	  
      <li>
    	Click <strong>Finish</strong>.
      </li>
      
	  <li>
	    <p>Repeat step1 to create a new VJET project.
      </li>
      
      <li>
    	<p>On the next page, type &quot;Project&quot; in the <strong>Project name</strong> field.</p>
	  </li>
	  
      <li>
    	<p>In <strong>Contents</strong> group, change selection to <strong>Create project from existing source</strong>.</p>
    	<p>Click <strong>Browse...</strong> and choose the <i><code>C:\Project</code></i> directory.</p>
		<p><img src="../images/cTutorial/working63.gif"  alt="New VJET Project wizard"></p>
	  </li>
	  
      <li>
    	<p>Click <strong>Next</strong>.</p>
	  </li>
	  
	  <li>
		<p>On the next page, verify that directory <i><code>SourceFile</code></i> has been automatically added as source folder.</p>
		<p>Expand it to preview your project source folder contents:</p>
		<p><img src="../images/cTutorial/working64.gif"  alt="VJET Project Source setup"></p>
	  </li>
	  
	  <li>
		<p>Select <strong>Projects</strong> tab.</p>
    	<p>Click <strong>Add...</strong>to add a dependency to source framework project...</p>
		<p><img src="../images/cTutorial/working65.gif"  alt="VJET Project Required Projects setup"></p>
	  </li>
	  
	  <li>
		<p>In <strong>Required Project Selection</strong>, check &quot;ProjectFramework&quot;.</p>
		<p><img src="../images/cTutorial/working66.gif"  alt="Required Project Selection dialog"></p>
	  </li>
	  
	  <li>
    	<p>Click <strong>OK</strong> to validate and close dialog.</p>
	  </li>
	  
	  <li>
		<p>Now, let's put access rules on source framework content to authorize, discourage or forbid access to &quot;ProjectFramework&quot; source folders, package and classes...</p>
		<p>In <strong>Projects</strong> tab, select &quot;Access rules&quot; of &quot;ProjectFramework&quot; depending project.</p>
    	<p>Click <strong>Edit...</strong>.</p>
		<p><img src="../images/cTutorial/working67.gif"  alt="Edit Required Project Access Rules"></p>
	  </li>
	  
	  <li>
		<p>In <strong>Type Access Rules</strong>, click <strong>Add...</strong>.</p>
		<p><img src="../images/cTutorial/working68.gif"  alt="Type Access Rules dialog"></p>
	  </li>
	  
	  <li>
		<p>In <strong>Add Access Rule</strong>, select &quot;Forbidden&quot; for <strong>Resolution</strong>.</p>
		<p>Type &quot;**/forbidden/**&quot; in <strong>Rule Pattern</strong> field.</p>
		<p><img src="../images/cTutorial/working69.gif"  alt="Add Access Rule dialog"></p>
	  </li>
	  
	  <li>
    	<p>Click <strong>OK</strong> to validate access rule and close dialog.</p>
	  </li>
	  
	  <li>
		<p>Add another access rule:</p>
		<p><strong>Resolution</strong>: &quot;Discouraged&quot; and <strong>Rule Pattern</strong>: &quot;**/internal/**&quot;.</p>
	  </li>
	  
	  <li>
		<p>Your access rules now look as follows:</p>
		<p><img src="../images/cTutorial/working610.gif"  alt="Type Access Rules final result"></p>
	  </li>
	  
	  <li>
    	<p>Click <strong>OK</strong> to validate these new rules and close dialog.</p>
	  </li>
	  
      <li>
    	<p>Dependent project has now 2 access rules set.</p>
    	<p><img src="../images/cTutorial/working611.gif"  alt="VJET Project Required Projects final setup"></p>
	  </li>
	  
      <li>
    	<p>Click <strong>Finish</strong>.</p>
      </li>
      
      <li>
    	<p>You now have a VJET project which contains the source of &quot;Project&quot; and which is using the source of &quot;ProjectFramework&quot;.</p>
    	<p>Some packages of the project &quot;ProjectFramework&quot; are restricted and if you try to import them, compiler displays either warnings or errors depending on your restriction level:</p> 
		<p><img src="../images/cTutorial/working612.gif"  alt="Created VJET projects in Workspace"></p>
      </li>
	</ol>
	
    <p><img src="../../images/ngrelr.png"  alt="Related reference"></p>
    <ul>
      <li><a href="../../reference/wizards/new_vjo_project_wizard.htm">New VJET Project Wizard</a></li>
      <li><a href="../../reference/views/script_explorer_view.htm">Script Explorer View</a></li>
    </ul>
    
  </body>
</html>

